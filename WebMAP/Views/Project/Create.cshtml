
@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

						<!--Begin::Main Portlet-->
<div class="m-portlet m-portlet--full-height">

    <!--begin: Portlet Head-->
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption">
            <div class="m-portlet__head-title">
                <h3 class="m-portlet__head-text">
                    Form Wizard
                </h3>
            </div>
        </div>
        <div class="m-portlet__head-tools">
            <ul class="m-portlet__nav">
                <li class="m-portlet__nav-item">
                    <a href="#" data-toggle="m-tooltip" class="m-portlet__nav-link m-portlet__nav-link--icon" data-direction="left" data-width="auto" title="Get help with filling up this form">
                        <i class="flaticon-info m--icon-font-size-lg3"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!--end: Portlet Head-->
    <!--begin: Portlet Body-->
    <div class="m-portlet__body m-portlet__body--no-padding">
        <!--begin: Form Wizard-->
        <div class="m-wizard m-wizard--3 m-wizard--success" id="m_wizard">
            <!--begin: Message container -->
            <div class="m-portlet__padding-x">

                <!-- Here you can put a message or alert -->
            </div>

            <!--end: Message container -->
            <div class="row m-row--no-padding">
                <div class="col-xl-3 col-lg-12">

                    <!--begin: Form Wizard Head -->
                    <div class="m-wizard__head">
                        <!--begin: Form Wizard Progress -->
                        <div class="m-wizard__progress">
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>

                        <!--end: Form Wizard Progress -->
                        <!--begin: Form Wizard Nav -->
                        <div class="m-wizard__nav">
                            <div class="m-wizard__steps">
                                <div class="m-wizard__step m-wizard__step--current" m-wizard-target="m_wizard_form_step_1">
                                    <div class="m-wizard__step-info">
                                        <a href="#" class="m-wizard__step-number">
                                            <span><span>1</span></span>
                                        </a>
                                        <div class="m-wizard__step-line">
                                            <span></span>
                                        </div>
                                        <div class="m-wizard__step-label">
                                            General Informaions
                                        </div>
                                    </div>
                                </div>
                                <div class="m-wizard__step" m-wizard-target="m_wizard_form_step_2">
                                    <div class="m-wizard__step-info">
                                        <a href="#" class="m-wizard__step-number">
                                            <span><span>2</span></span>
                                        </a>
                                        <div class="m-wizard__step-line">
                                            <span></span>
                                        </div>
                                        <div class="m-wizard__step-label">
                                            Project's Date
                                        </div>
                                    </div>
                                </div>
                                <div class="m-wizard__step" m-wizard-target="m_wizard_form_step_3">
                                    <div class="m-wizard__step-info">
                                        <a href="#" class="m-wizard__step-number">
                                            <span><span>3</span></span>
                                        </a>
                                        <div class="m-wizard__step-line">
                                            <span></span>
                                        </div>
                                        <div class="m-wizard__step-label">
                                           Project Collaborators
                                        </div>
                                    </div>
                                </div>
                                <div class="m-wizard__step" m-wizard-target="m_wizard_form_step_4">
                                    <div class="m-wizard__step-info">
                                        <a href="#" class="m-wizard__step-number">
                                            <span><span>4</span></span>
                                        </a>
                                        <div class="m-wizard__step-line">
                                            <span></span>
                                        </div>
                                        <div class="m-wizard__step-label">
                                            Needed skills
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--end: Form Wizard Nav -->
                    </div>

                    <!--end: Form Wizard Head -->
                </div>
                <div class="col-xl-9 col-lg-12">

                    <!--begin: Form Wizard Form-->
                    <div class="m-wizard__form">

                        <!--
                            1) Use m-form--label-align-left class to alight the form input lables to the right
                            2) Use m-form--state class to highlight input control borders on form validation
                        -->
@using (Html.BeginForm("Create", "Project", FormMethod.Post,
                                                                new { enctype = "multipart/form-data", id = "m_form", @class = "m-form m-form--fit m-form--label-align-right" }))
{
    @Html.AntiForgeryToken()

                            <!--begin: Form Body -->
                            <div class="m-portlet__body m-portlet__body--no-padding">

                                <!--begin: Form Wizard Step 1-->
                                <div class="m-wizard__form-step m-wizard__form-step--current" id="m_wizard_form_step_1">
                                    <div class="m-form__section m-form__section--first">
                                        <div class="m-form__heading">
                                            <h3 class="m-form__heading-title">General Informations</h3>
                                        </div>
                                        <div class="form-group m-form__group row">
                                            <label class="col-xl-3 col-lg-3 col-form-label">Client:</label>

                                            <div class="col-xl-2 col-lg-2">
                                                <span class="m-topbar__userpic">
                                                    <img style="width:50px;" src="~/Content/assets/app/media/img/users/user4.jpg" class="m--img-rounded m--marginless" alt="" />
                                                </span>
                                            </div>

                                            <div class="col-xl-5 col-lg-5">
                                                <select class="form-control m-select2" id="m_select2_1" name="client">
                                                    <option></option>
                                                    @foreach (var item in ViewBag.clients)
                                                    {
                                                        <option value="@item.idUser">@item.clientName</option>

                                                    }

                                                </select>
                                                <span class="m-form__help">Choose a client.</span>
                                            </div>
                                        </div>
                                        <div class="form-group m-form__group row">
                                            <label class="col-xl-3 col-lg-3 col-form-label">* Program Name:</label>
                                            <div class="col-xl-9 col-lg-9">
                                                <input type="text" name="programname" class="form-control m-input" placeholder="">
                                                <span class="m-form__help">Specify program Name.</span>
                                            </div>
                                        </div>
                                        <div class="form-group m-form__group row">
                                            <label class="col-xl-3 col-lg-3 col-form-label">* Project Name:</label>
                                            <div class="col-xl-9 col-lg-9">
                                                <input type="text" name="projectname" class="form-control m-input" placeholder="">
                                                <span class="m-form__help">Specify Project Name.</span>
                                            </div>

                                        </div>

                                        <div class="form-group m-form__group row">
                                            <label class="col-xl-3 col-lg-3 col-form-label">* Description
                                            :</label>
                                            <div class="col-xl-9 col-lg-9">
                                                <textarea name="description" class="form-control m-input" id="description" rows="3"></textarea>

                                                <span class="m-form__help">Describe the project.</span>
                                            </div>

                                        </div>
                                    </div>
                                        </div>

                                        <!--end: Form Wizard Step 1-->
                                        <!--begin: Form Wizard Step 2-->
                                        <div class="m-wizard__form-step" id="m_wizard_form_step_2">
                                            <div class="m-form__section m-form__section--first">
                                                <div class="m-form__heading">
                                                    <h3 class="m-form__heading-title">Specify When the project will take place:</h3>
                                                </div>
                                                <div class="form-group m-form__group row">
                                                    <div class="col-lg-12">
                                                        <label class="form-control-label">* Starting Date:</label>
                                                        <input name="startdate" type="text" class="form-control" id="m_datepicker_1" readonly placeholder="Select date" />
                                                        <span class="m-form__help">Please enter your preferred Starting Date</span>
                                                    </div>
                                                </div>
                                                <div class="form-group m-form__group row">
                                                    <div class="col-lg-12">
                                                        <label class="form-control-label">* Ending Date:</label>
                                                        <input name="enddate" type="text" class="form-control" id="m_datepicker_1" readonly placeholder="Select date" />
                                                        <span class="m-form__help">Please specify your preffered Ending Date</span>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <!--end: Form Wizard Step 2-->
                                        <!--begin: Form Wizard Step 3-->
                                        <div class="m-wizard__form-step" id="m_wizard_form_step_3">
                                            <div class="m-form__section m-form__section--first">
                                                <div class="m-form__heading">
                                                    <h3 class="m-form__heading-title">Skills:</h3>
                                                </div>
                                                <div class="form-group m-form__group row">
                                                    <div class="col-lg-12">
                                                        <label class="form-control-label">* Financial Manager:</label>
                                                        <input type="text" name="financialmanager" class="form-control m-input" placeholder="">
                                                    </div>
                                                </div>
                                                <div class="form-group m-form__group row">
                                                    <div class="col-lg-12">
                                                        <label class="form-control-label">* Assignment Manager :</label>
                                                        <input type="text" name="assignmentmanager" class="form-control m-input" placeholder="">
                                                    </div>
                                                </div>
                                                <div class="form-group m-form__group row">
                                                    <div class="col-lg-12">
                                                        <label class="form-control-label">* Project Manager:</label>
                                                        <input type="text" name="projectmanager" class="form-control m-input" placeholder="">
                                                    </div>
                                                </div>

                                            </div>

                                        </div>

                                        <!--end: Form Wizard Step 3-->
                                        <!--begin: Form Wizard Step 4-->
                                        <div class="m-wizard__form-step" id="m_wizard_form_step_4">

                                            <!--begin::Section-->


                                            <div class="m-form__section m-form__section--first">
                                                <div class="m-form__heading">
                                                    <h3 class="m-form__heading-title">Billing Information</h3>
                                                </div>


                                                <div class="form-group m-form__group row">
                                                    <div class="col-lg-12">
                                                        <label class="form-control-label">* Needed skills:</label> <br />
                                                        <select style="width:400px;" class="form-control   m-select2 m-input" id="m_select2_11" multiple name="skills">
                                                            <option></option>
                                                            <optgroup label="Available Skills( @ViewBag.competencesnumber)">
                                                                @foreach (var item in ViewBag.competences)
                                                                {
                                                                    <option value="@item.idCompetence">@item.label</option>

                                                                }

                                                            </optgroup>
                                                            

                                                        </select>
                                                    </div>
                                                
                                                </div>
                                            </div>



                                            <!--end::Section-->
                                            <!--end::Section-->
                                            <div class="m-separator m-separator--dashed m-separator--lg"></div>
                                            <div class="form-group m-form__group m-form__group--sm row">
                                                <div class="col-xl-12">
                                                    <div class="m-checkbox-inline">
                                                        <label class="m-checkbox m-checkbox--solid m-checkbox--brand">
                                                            <input type="checkbox" name="accept" value="1">
                                                            Click here to indicate that you have read and agree to the terms presented in the Terms and Conditions agreement
                                                            <span></span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!--end: Form Wizard Step 4-->
                                    </div>

                            <!--end: Form Body -->
                            <!--begin: Form Actions -->
                            <div class="m-portlet__foot m-portlet__foot--fit m--margin-top-40">
                                <div class="m-form__actions">
                                    <div class="row">
                                        <div class="col-lg-6 m--align-left">
                                            <a href="#" class="btn btn-secondary m-btn m-btn--custom m-btn--icon" data-wizard-action="prev">
                                                <span>
                                                    <i class="la la-arrow-left"></i>&nbsp;&nbsp;
                                                    <span>Back</span>
                                                </span>
                                            </a>
                                        </div>
                                        <div class="col-lg-6 m--align-right">
                                            <a href="#" class="btn btn-primary m-btn m-btn--custom m-btn--icon" data-wizard-action="submit">
                                                <span>
                                                    <i class="la la-check"></i>&nbsp;&nbsp;
                                                    <span>Submit</span>
                                                </span>
                                            </a>
                                            <a href="#" class="btn btn-success m-btn m-btn--custom m-btn--icon" data-wizard-action="next">
                                                <span>
                                                    <span>Save & Continue</span>&nbsp;&nbsp;
                                                    <i class="la la-arrow-right"></i>
                                                </span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--end: Form Actions -->
}
                    </div>

                    <!--end: Form Wizard Form-->
                </div>
            </div>
        </div>

        <!--end: Form Wizard-->
    </div>

    <!--end: Portlet Body-->
</div>

<script>


    //SearchCompetence
    var url = '@Url.Action("SearchCompetence", "Project")'; // Don't hard code your url's!
    var skills = $('#city_dll'); // cache it
    $("#description").change(function () {
        var id = $(this).val(); // Use $(this) so you don't traverse the DOM again
        $.getJSON(url, { query: id }, function (response) {
            $("#test").remove();
            var optgroup = "Suggested Skills:";


            $.each(response, function (index, item) { // item is now an object containing properties ID and Text
               
                optgroup += " <strong>" + item.Label + "</strong> |";
            });
            $("#suggestion").empty();
            $('#suggestion').append(optgroup);

        });
    });

    $("m_select2_11").on("changed.bs.select",
      function (e, clickedIndex, newValue, oldValue) {
          alert("fire");      });

    $("#m_select2_11 option").click(function () {
        var value = $(this).attr("value");
        console.log(value);
        alert(value);
    });


 //   $("select option[value='" + $variable + "']").attr('disabled', true);



    $(".select option").val(function(idx, val) {
  $(this).siblings('[value="'+ val +'"]').remove();
    });

</script>