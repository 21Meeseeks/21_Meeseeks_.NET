<div class="col-sm-4">
    <div class="m-portlet">

        <div class="m-portlet__body">
            <div class="m-section__content">
                <div class="form-group m-form__group row">
                    <div class="col-lg-9 col-md-9 col-sm-12">
                        Availability  <br />
                        <input class="check" name='my-checkbox' data-switch="true" type="checkbox" id="m_switch_1 employee"><br />

                        DayOffs<br /><input class="checkday" data-switch="true" type="checkbox" id="m_switch_1 ywmcmb">
                    </div>
                </div>
                <div class="form-group1 m-form__group">
                    <label for="exampleInputEmail1">Skill</label>
                    <div></div>
                    <select id="competence" class="custom-select form-control">
                        <option val="deb" selected>Select Skill</option>
                        @foreach (var x in ViewBag.ListSkills)
                        {
                            <option value="@x.idCompetence">@x.Label</option>
                        }
                    </select>
                </div>

                <div id="level" class="form-group m-form__group row">
                    <label for="example-number-input" class="col-2 col-form-label">Level</label>
                    <div class="col-10">
                        <input class="form-control m-input" type="number" value="2" id="example-number-input">
                    </div>
                </div>
                <div class="form-group1 m-form__group">
                    <label for="exampleInputEmail1">Seniority</label>
                    <div></div>
                    <select id="seniority" class="custom-select form-control">
                        <option val="deb" selected>Select Seniority</option>

                        @foreach (var x in ViewBag.ListSen)
                        {
                            <option value="@x.idSeniority">@x.Label</option>
                        }
                    </select>
                </div>

                <div class="m-demo" data-code-preview="true" data-code-html="true" data-code-js="false">
                    <div class="m-demo__preview m-demo__preview--btn">
                        <button id="send" type="button" class="btn btn-outline-primary">Primary</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="col-sm-4">
    <div class="m-portlet">

        <div class="m-section__content">
            <div class="m-demo" data-code-preview="true" data-code-html="true" data-code-js="false">
                <div class="m-demo__preview">

                    <h3 class="display-1" id="result">Result</h3>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/Content/assets/demo/default/custom/crud/forms/widgets/bootstrap-switch.js" type="text/javascript"></script>
<script>
    /*$(function () {
        $("[name='my-checkbox']").on('switchChange.bootstrapSwitch', function (event, state) {
            $(this).parent().children().each(function () {
                alert($(this).prop('id').split(' ')[1]);
            });
            if ($('input.check').bootstrapSwitch('state')) {
                alert($(this).prop('id').split(' ')[1]);

            }
        });
    });*/
    $(function () {
        if ($('#seniority').find(":selected").val() == "deb")
            alert("hello");
        $('#level').hide();
        $('#competence').click(function () {
            if ($('#competence').find(":selected").text() != "Select Skill")
                $('#level').show();
            else
                $('#level').hide();
        });
        $('#send').click(function () {
            var competence = "";
            var seniority = "";
            var available = $('input.check').bootstrapSwitch('state');
            var level = 0;
            var dayoff = $('input.checkday').bootstrapSwitch('state');

            if ($('#competence').find(":selected").val() != "Select Skill") {
                competence = $('#competence').find(":selected").val();
                level = $('#level input').val();
            }
            if ($('#seniority').find(":selected").val() != "Select Seniority")
                seniority = $('#seniority').find(":selected").val();

             var params = JSON.stringify({ competence: competence });
            $.ajax({
                type: 'POST',
                cache: false,
                url: '@Url.Action("getRatio", "ResourceStat")',
                dataType: 'json',
                data: { competence: competence , seniority: seniority , available : available , level : level , dayoff : dayoff },
                error: function () {
                    alert("failed")
                },
                success: function (result) {
                    
                    $('#result').html(result.Data.Result);
                }
            });
        });
    });

    if ($('input.checkbox_check').prop('checked')) {
        //blah blah
    }
</script>
